<!--index.wxml-->
<view class="container">
  <!-- çŠ¶æ€æ å·²ç”±å¾®ä¿¡å°ç¨‹åºè‡ªåŠ¨æä¾› -->
  
  <!-- æ¬¢è¿åŒºåŸŸ -->
  <view class="welcome-area">
    <view class="welcome-text">
      <text class="welcome-title">ä½ å¥½ï¼Œ{{userInfo.nickName}}</text>
      <text class="welcome-subtitle">ä»Šå¤©ç»§ç»­æå‡è‡ªå·±å§ï¼</text>
    </view>
    <view class="avatar-container">
      <button class="avatar-wrapper" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
        <image class="avatar" src="{{userInfo.avatarUrl}}"></image>
      </button>
    </view>
  </view>
  
  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="stats-card">
    <view class="stats-title">é”™é¢˜ç»Ÿè®¡</view>
    <view class="stats-content">
      <view class="stats-item">
        <text class="stats-number">{{statsData.total}}</text>
        <text class="stats-label">æ€»é”™é¢˜</text>
      </view>
      <view class="stats-separator"></view>
      <view class="stats-item">
        <text class="stats-number">{{statsData.weekly}}</text>
        <text class="stats-label">æœ¬å‘¨æ–°å¢</text>
      </view>
      <view class="stats-separator"></view>
      <view class="stats-item">
        <text class="stats-number">{{statsData.mastered}}</text>
        <text class="stats-label">å·²æŒæ¡</text>
      </view>
    </view>
    <view class="progress-container">
      <view class="progress-bar-bg">
        <view class="progress-bar" style="width: {{statsData.progress}}%;"></view>
      </view>
      <!-- <text class="progress-text">æŒæ¡è¿›åº¦ï¼š{{statsData.progress}}%</text> -->
    </view>
  </view>
  
  <!-- å­¦ç§‘æ ‡ç­¾ -->
  <!-- <view class="subject-section">
    <view class="section-header">
      <text class="section-title">çƒ­é—¨å­¦ç§‘</text>
      <text class="view-all" bindtap="navigateToQuestions">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    <view class="subject-tags">
      <block wx:for="{{subjects}}" wx:key="*this">
        <text class="subject-tag">{{item}}</text>
      </block>
    </view>
  </view> -->
  
  <!-- å¿«æ·åŠŸèƒ½ -->
  <view class="features-section">
    <view class="section-title">å¿«æ·åŠŸèƒ½</view>
    <view class="feature-card" bindtap="navigateToCamera">
      <view class="feature-icon">ğŸ“·</view>
      <view class="feature-content">
        <text class="feature-title">æ‹ç…§è®°å½•</text>
        <text class="feature-desc">æ‹ç…§å¿«é€Ÿè®°å½•é”™é¢˜</text>
      </view>
      <text class="feature-arrow">â¯</text>
    </view>
    <view class="feature-card" bindtap="navigateToAnalysis">
      <view class="feature-icon">ğŸ“š</view>
      <view class="feature-content">
        <text class="feature-title">é”™é¢˜åˆ†æ</text>
        <text class="feature-desc">æŸ¥çœ‹é”™é¢˜ç±»å‹åˆ†æ</text>
      </view>
      <text class="feature-arrow">â¯</text>
    </view>
    <view class="feature-card" bindtap="navigateToReport">
      <view class="feature-icon">ğŸ“ˆ</view>
      <view class="feature-content">
        <text class="feature-title">å­¦ä¹ æŠ¥å‘Š</text>
        <text class="feature-desc">æŸ¥çœ‹å­¦ä¹ è¿›åº¦æŠ¥å‘Š</text>
      </view>
      <text class="feature-arrow">â¯</text>
    </view>
  </view>
  
  <!-- æœ€è¿‘é”™é¢˜ -->
  <view class="recent-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘é”™é¢˜</text>
      <text class="view-all" bindtap="navigateToQuestions">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    <!-- <view class="recent-list">
      <block wx:for="{{recentMistakes}}" wx:key="id">
        <view class="recent-item" bindtap="navigateToDetail" data-id="{{item.id}}" style="{{index === recentMistakes.length-1 ? 'border-bottom: none;' : ''}}">
          <image class="recent-img" src="{{item.image}}" mode="aspectFill"></image>
          <view class="recent-content">
            <text class="recent-title">{{item.title}}</text>
            <text class="recent-subtitle">{{item.subject}} Â· {{item.time}}</text>
            <text class="status-tag status-{{item.status}}">
              {{item.status === 'review' ? 'éœ€å¤ä¹ ' : (item.status === 'pending' ? 'å¾…æŒæ¡' : 'æœªæŒæ¡')}}
            </text>
          </view>
        </view>
      </block>
    </view> -->
  </view>
  
  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-btn" bindtap="navigateToCamera">ğŸ“·</view>
  
  <!-- åº•éƒ¨å¯¼èˆªæ ï¼ˆå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰tabbaræˆ–é€šè¿‡app.jsoné…ç½®ï¼‰ -->
</view>
